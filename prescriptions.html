<!DOCTYPE html>
<html
  lang="en"
  data-wf-domain="medicare-template.webflow.io"
  data-wf-page="57c55b6ef6306d483a15bdc1"
  data-wf-site="57c55b6ef6306d483a15bdc0"
  data-wf-status="1"
>
  <head>
    <meta charset="utf-8" />
    <title>Prescriptions | Medicare</title>
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <meta content="Webflow" name="generator" />
    <link href="./styles/index.css" rel="stylesheet" type="text/css" />
    <link href="./styles/prescriptions.css" rel="stylesheet" type="text/css" />
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link
      href="https://fonts.gstatic.com"
      rel="preconnect"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
    />

    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js"></script>
    <script>
      WebFont.load({
        google: {
          families: [
            "Open Sans:300,300italic,400,400italic,600,600italic,700,700italic,800,800italic",
            "Montserrat:100,100italic,200,200italic,300,300italic,400,400italic,500,500italic,600,600italic,700,700italic,800,800italic,900,900italic",
            "Source Sans Pro:regular,700",
          ],
        },
      });
    </script>
    <script>
      !(function (o, c) {
        var n = c.documentElement,
          t = " w-mod-";
        n.className += t + "js";
        ("ontouchstart" in o ||
          (o.DocumentTouch && c instanceof DocumentTouch)) &&
          (n.className += t + "touch");
      })(window, document);
    </script>
    <link
      href="./assets/favicon.png  "
      rel="shortcut icon"
      type="image/x-icon"
    />
    <link
      href="https://cdn.prod.website-files.com/57c55b6ef6306d483a15bdc0/589b0ba5dbf0b97f5096c916_pharmacy-symbol-darker.png"
      rel="apple-touch-icon"
    />
  </head>
  <body>
    <div id="navbar-placeholder"></div>
    <!-- NAVBAR (kept; minor icons retained) -->
    <div class="navbar-wrapper">
      <div class="top-info-bar">
        <div class="top-info-bar-container w-container">
          <a
            href="./index.html"
            class="brand w-hidden-medium w-hidden-small w-hidden-tiny w-nav-brand"
            ><img
              src="./assets/rxconnect.png"
              alt="logo"
              style="width: 120px; height: auto; margin-bottom: 4px"
          /></a>
          <div class="info-bar w-clearfix">
            <div class="info-blocks-wrapper w-clearfix">
              <div class="top-info-block no-right-border w-clearfix">
                <div class="top-info-icon"></div>
                <div class="top-info-content">
                  <a href="tel:+44 20 7123 4567" class="contact-link"
                    >+44 20 7123 4567</a
                  ><a href="tel:+44 7712 345678" class="contact-link"
                    >+44 7712 345678</a
                  >
                </div>
              </div>
              <div class="top-info-block w-clearfix">
                <div class="top-info-icon _2"></div>
                <div class="top-info-content">
                  <a data-ix="popup-modal-show" href="#" class="contact-link"
                    >M5 3AB<br />
                    Church Road, Salford, Manchester</a
                  >
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div
        data-collapse="medium"
        data-animation="default"
        data-duration="400"
        data-easing="ease"
        data-easing2="ease"
        role="banner"
        class="navbar w-nav"
      >
        <div class="navbar-container w-container">
          <a href="index.html" class="brand w-hidden-main w-nav-brand"
            ><img
              src="./assets/rxconnect.png"
              alt="logo"
              style="width: 140px; height: auto"
          /></a>
         <nav role="navigation" class="nav-menu w-nav-menu">
    <a href="./about-us.html" aria-current="page" class="nav-link w-nav-link w--current">Who we are</a>
    <a href="./dr-form.html" class="nav-link w-nav-link">E-Prescriptions</a>
    <a href="./prescriptions.html" class="nav-link w-nav-link">My Prescriptions</a>
    <a href="./pending-prescription.html" class="nav-link w-nav-link">Pending Prescriptions</a>
    <a href="./doctors.html" class="nav-link w-nav-link">Doctors</a>
    <a href="./patient-history.html" class="nav-link w-nav-link">Patient history</a>
    <!-- <a href="./FAQs.html" class="nav-link w-nav-link">FAQs</a> -->
    <a href="./contacts.html" class="nav-link w-nav-link">Contacts    </a>
    <a href="./billing.html" class="nav-link w-nav-link">Billing</a>
    <div class="dropdown">
  <button class="nav-link w-nav-link bg-transparent" id="reportsBtn">
    Reports <i class="fa-solid fa-chevron-down"></i>
  </button>
  <div class="dropdown-content" id="reportsDropdown">
    <a href="./reports.html">Reports</a>
    <a href="./medicationExport.html">Medication Export</a>
  </div>
</div>


  </nav>
<script>
const reportsBtn = document.getElementById('reportsBtn');
const reportsDropdown = document.getElementById('reportsDropdown');

// Toggle dropdown on click
reportsBtn.addEventListener('click', function(e) {
  e.preventDefault(); // Prevent default link navigation
  reportsDropdown.classList.toggle('show');
});

// Close the dropdown if clicked outside
window.addEventListener('click', function(e) {
  if (!reportsBtn.contains(e.target) && !reportsDropdown.contains(e.target)) {
    reportsDropdown.classList.remove('show');
  }
});
</script>

          <div id="menu-btn" class="menu-button w-nav-button">
            <i class="fa-solid fa-bars" id="menu-icon"></i>
          </div>
        </div>
      </div>
    </div>

    <!-- Scroll navbar (unchanged visually) -->
    <!-- <div
      data-collapse="medium"
      data-animation="default"
      data-duration="400"
      data-ix="display-scroll-navbar"
      data-easing="ease"
      data-easing2="ease"
      role="banner"
      class="navbar-scroll w-hidden-medium w-hidden-small w-hidden-tiny w-nav"
    >
      <div class="nav-scroll-container w-container">
        <div class="menu-button scroll-menu-button w-nav-button">
          <div class="w-icon-nav-menu"></div>
        </div>
          <a
          href="/"
          aria-current="page"
          class="brand scroll w-hidden-medium w-hidden-small w-hidden-tiny w-nav-brand w--current"
          > <img
              src="./assets/rxconnect.png"
              alt="logo"
              style="width: 120px; height: auto; margin-bottom: 4px"
            /></a>
        <nav role="navigation" class="nav-menu w-nav-menu">
   <a href="./about-us.html" aria-current="page" class="nav-link w-nav-link w--current">Who we are</a>
    <a href="./dr-form.html" class="nav-link w-nav-link">E-Prescriptions</a>
    <a href="./prescriptions.html" class="nav-link w-nav-link">My Prescriptions</a>
    <a href="./doctors.html" class="nav-link w-nav-link">Doctors</a>
    <a href="./patient-history.html" class="nav-link w-nav-link">Patient history</a>
    <a href="./FAQs.html" class="nav-link w-nav-link">FAQs</a>

  </nav>
      
      </div>
    </div> -->
    <!-- Page Header -->
    <!-- <div class="section page-header">
    <div class="w-container">
      <div class="title-wrapper">
        <h2>Prescriptions</h2>
        <div class="subtitle">list of issued prescriptions</div>
        <div class="underline"></div>
      </div>

      <div class="table-tools">
        <div class="search">
          <label for="searchInput" class="sr-only">Search</label>
          <input id="searchInput" type="text" placeholder="Search by Rx ID or Doctor ID..." />
        </div>
        <div style="width:180px">
          <label for="dateFrom" class="sr-only">From</label>
          <input id="dateFrom" type="date" />
        </div>
        <div style="width:180px">
          <label for="dateTo" class="sr-only">To</label>
          <input id="dateTo" type="date" />
        </div>
      </div>

      <div class="rx-table-wrapper">
        <table class="rx-table" id="rxTable">
          <thead>
            <tr>
              <th style="width: 220px;">Prescription ID</th>
              <th style="width: 150px;">Patient</th>
              <th style="width: 160px;">Medication</th>
              <th style="width: 120px;">Last Updated</th>
              <th style="width: 120px;">Status</th>
              <th style="width: 120px;">Send to SP</th>
            </tr>
          </thead>
          <tbody id="rxTbody"> -->
    <!-- JS populates rows -->
    <!-- </tbody>
        </table>
      </div>

      <div id="noRows" style="display:none; padding:16px; color:#6b7280;">
        No prescriptions match your filters.
      </div>
    </div>
  </div> -->

    <!-- Modal -->
    <!-- <div class="modal-backdrop" id="rxModalBackdrop" role="dialog" aria-modal="true" aria-labelledby="rxModalTitle">
    <div class="modal">
      <div class="modal-header">
        <h3 class="modal-title" id="rxModalTitle">Prescription Details</h3>
        <button class="modal-close" id="rxModalClose" aria-label="Close">&times;</button>
      </div>
      <div class="modal-body" id="rxModalBody"> -->
    <!-- JS injects details -->
    <!-- </div>
    </div>
  </div> -->
    <div class="section page-header">
      <div class="w-container">
        <div class="title-wrapper">
          <div class="title-text-group">
            <h2>Prescriptions</h2>
            <div class="subtitle">list of issued prescriptions</div>
            <!-- <div class="underline"></div> -->
          </div>
          <a href="./dr-form.html" class="btn green">
            <i class="fa-solid fa-plus"></i> ADD NEW PRESCRIPTION
          </a>
        </div>
        <div class="filter-group">
          <div class="filter-item status-dropdown">
            <label for="statusFilter" class="sr-only">Status</label>
            <select id="statusFilter" aria-label="Filter by status">
              <option value="">Filter by Status</option>
              <option value="Signed">Signed</option>
              <option value="Dispensed">Dispensed</option>
              <option value="Voided">Voided</option>
              <option value="Expired">Expired</option>
              <option value="Contacted">Contacted</option>
            </select>
          </div>
          <div class="filter-item date-input">
            <label for="dateFrom" class="sr-only">From Date</label>
            <input id="dateFrom" type="date" aria-label="From Date" />
          </div>
          <span class="date-separator">to</span>

          <div class="filter-item date-input">
            <label for="dateTo" class="sr-only">To Date</label>
            <input id="dateTo" type="date" aria-label="To Date" />
          </div>
        </div>
        <div class="table-tools">
          <div class="search">
            <label for="searchInput" class="sr-only">Search</label>
            <input
              id="searchInput"
              type="text"
              placeholder="Search by Rx ID, Patient ID, or Doctor ID..."
            />
          </div>
          <button id="searchBtn" class="btn primary" onclick="applyFilters()">
            <i class="fa-solid fa-magnifying-glass"></i> Search
          </button>
          <button id="clearBtn" class="btn clear" onclick="clearFilters()">
            <i class="fa-solid fa-xmark"></i> Clear
          </button>
        </div>
        <div class="rx-table-wrapper">
          <table class="rx-table" id="rxTable">
            <thead>
              <tr>
                <th style="width: 150px">Prescription ID</th>
                <th style="width: 250px">Patient (ID)</th>
                <th style="width: 250px">Medication</th>
                <th style="width: 150px">Last Updated</th>
                <th style="width: 120px">Status</th>
                <th style="width: 100px">Actions</th>
              </tr>
            </thead>
            <tbody id="rxTbody"></tbody>
          </table>
        </div>
        <div
          id="noRows"
          style="
            display: none;
            padding: 16px;
            color: #6b7280;
            text-align: center;
            font-style: italic;
          "
        >
          No prescriptions match your filters.
        </div>
      </div>
    </div>
    <div
      class="modal-backdrop"
      id="rxModalBackdrop"
      role="dialog"
      aria-modal="true"
      aria-labelledby="rxModalTitle"
    >
      <div class="modal">
        <div class="modal-header">
          <h3 class="modal-title" id="rxModalTitle">Prescription Details</h3>
          <button class="modal-close" id="rxModalClose" aria-label="Close">
            &times;
          </button>
        </div>
        <div class="modal-body" id="rxModalBody"></div>
      </div>
    </div>

    <!-- FOOTER (exactly as your site) -->
    <div class="footer">
      <div class="w-container">
        <div class="emergency-wrapper">
          <img
            src="https://cdn.prod.website-files.com/57c55b6ef6306d483a15bdc0/5822042610a8d4ee31522b7d_24-hours-phone-service.png"
            width="64"
            alt=""
            class="emergency-footer-icon"
          />
          <h4 class="white">emergency cases</h4>
          <a href="tel:+1-600-700-6200" class="w-inline-block"
            ><div class="emergency-number">+44 20 7123 4567</div></a
          >
        </div>
        <div class="flex-box space-between">
          <div class="_33-percent-column right-padding">
            <img
              src="./assets/rxconnect.png"
              alt=""
              class="footer-logo"
              style="width: 160px; height: auto; margin-bottom: 2px"
            />
            <p class="white footer-paragraph">
              RxConnect is an international private health care provider. We
              have more than 20 years of experience. Our patients are provided
              with access to comprehensive outpatient and inpatient services, as
              well as a full range of laboratory diagnostics.
            </p>
          </div>
          <div class="_17-percent-column">
            <div>
              <div class="footer-header-wrapper">
                <h4 class="footer-title">Navigation</h4>
                <div class="footer-line"></div>
              </div>
              <a href="./about-us.html" class="footer-link">Who we are</a>
              <a href="./dr-form.html" class="footer-link">E-prescription</a>
              <a href="./prescriptions.html" class="footer-link"
                >My prescription</a
              >
              <a href="./doctors.html" class="footer-link">Doctors</a>
              <a href="./patient-history.html" class="footer-link"
                >Patient history</a
              >
              <a href="./FAQs.html" class="footer-link">FAQs</a>
            </div>
          </div>
          <div class="_17-percent-column next">
            <div>
              <div class="footer-header-wrapper">
                <h4 class="footer-title">Departments</h4>
                <div class="footer-line"></div>
              </div>
              <div class="w-dyn-list">
                <div role="list" class="w-dyn-items">
                  <div role="listitem" class="w-clearfix w-dyn-item">
                    <a
                      href="/departments/accident-and-emergency-ae"
                      class="footer-link"
                      >Physiotherapy</a
                    >
                  </div>
                  <div role="listitem" class="w-clearfix w-dyn-item">
                    <a href="/departments/eye-care" class="footer-link"
                      >Optical</a
                    >
                  </div>
                  <div role="listitem" class="w-clearfix w-dyn-item">
                    <a href="/departments/traumatology" class="footer-link"
                      >Dental</a
                    >
                  </div>
                  <div role="listitem" class="w-clearfix w-dyn-item">
                    <a href="/departments/dental-care" class="footer-link"
                      >X-Ray</a
                    >
                  </div>
                  <div role="listitem" class="w-clearfix w-dyn-item">
                    <a href="/departments/cardiology" class="footer-link"
                      >Cardiology</a
                    >
                  </div>
                  <div role="listitem" class="w-clearfix w-dyn-item">
                    <a href="/departments/neurology" class="footer-link"
                      >Neurology</a
                    >
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="_33-percent-column contact-footer">
            <div>
              <div class="footer-header-wrapper">
                <h4 class="footer-title">Contact Us</h4>
                <div class="footer-line"></div>
              </div>
              <div class="footer-contact-block">
                <img
                  src="https://cdn.prod.website-files.com/57c55b6ef6306d483a15bdc0/57fb365745bf29a4636cc96d_marker_white.png"
                  alt=""
                  class="footer-contact-icon"
                />
                <div>
                  <a
                    data-ix="popup-modal-show"
                    href="#"
                    class="footer-link contact"
                    >M5 3AB Church Road, Salford, Manchester</a
                  >
                </div>
              </div>
              <div class="footer-contact-block">
                <img
                  src="https://cdn.prod.website-files.com/57c55b6ef6306d483a15bdc0/57fb375654bcd3af63a1e75b_emai_whitel.png"
                  alt=""
                  class="footer-contact-icon"
                />
                <div>
                  <a href="mailto:" class="footer-link contact"
                    >info@rxconnect.com</a
                  >
                </div>
              </div>
              <div class="footer-contact-block">
                <img
                  src="https://cdn.prod.website-files.com/57c55b6ef6306d483a15bdc0/57fb417d8ae3efd95b4c1313_phone-receiver.png"
                  alt=""
                  class="footer-contact-icon"
                />
                <div>
                  <a href="tel:+61393455522" class="footer-link"
                    >+44 7712 345678</a
                  >
                  <a href="tel:+61393455522" class="footer-link"
                    >+44 20 7123 4567</a
                  >
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="test-row w-row">
          <div class="footer-column w-col w-col-3">
            <div>
              <div class="footer-header-wrapper">
                <h4 class="footer-title">Contact Us</h4>
                <div class="footer-line"></div>
              </div>
              <div class="footer-contact-block">
                <img
                  src="https://cdn.prod.website-files.com/57c55b6ef6306d483a15bdc0/57fb365745bf29a4636cc96d_marker_white.png"
                  alt=""
                  class="footer-contact-icon"
                />
                <div>
                  <div class="footer-link">
                    267 Collins St Melbourne Victoria 3000
                  </div>
                </div>
              </div>
              <div class="footer-contact-block">
                <img
                  src="https://cdn.prod.website-files.com/57c55b6ef6306d483a15bdc0/57fb375654bcd3af63a1e75b_emai_whitel.png"
                  alt=""
                  class="footer-contact-icon"
                />
                <div>
                  <a href="mailto:" class="footer-link contact"
                    >info@medicare.com</a
                  >
                </div>
              </div>
              <div class="footer-contact-block">
                <img
                  src="https://cdn.prod.website-files.com/57c55b6ef6306d483a15bdc0/57fb417d8ae3efd95b4c1313_phone-receiver.png"
                  alt=""
                  class="footer-contact-icon"
                />
                <div>
                  <a href="tel:+61393455522" class="footer-link"
                    >03-9345-5522</a
                  >
                  <a href="tel:+61393455522" class="footer-link"
                    >03-9345-4422</a
                  >
                </div>
              </div>
            </div>
          </div>

          <div class="footer-column w-col w-col-3">
            <div>
              <div class="footer-header-wrapper">
                <h4 class="footer-title">Navigation</h4>
                <div class="footer-line"></div>
              </div>
              <a href="./about-us.html" class="footer-link">Who we are</a>
              <a href="./dr-form.html" class="footer-link">E-prescription</a>
              <a href="./prescriptions.html" class="footer-link"
                >My prescription</a
              >
              <a href="./doctors.html" class="footer-link">Doctors</a>
              <a href="./patient-history.html" class="footer-link"
                >Patient history</a
              >
              <a href="./FAQs.html" class="footer-link">FAQs</a>
            </div>
          </div>

          <div class="footer-column w-col w-col-3">
            <div>
              <div class="footer-header-wrapper">
                <h4 class="footer-title">Departments</h4>
                <div class="footer-line"></div>
              </div>
              <div class="w-dyn-list">
                <div role="list" class="w-dyn-items">
                  <div role="listitem" class="w-clearfix w-dyn-item">
                    <a
                      href="/departments/accident-and-emergency-ae"
                      class="footer-link"
                      >Physiotherapy</a
                    >
                  </div>
                  <div role="listitem" class="w-clearfix w-dyn-item">
                    <a href="/departments/eye-care" class="footer-link"
                      >Optical</a
                    >
                  </div>
                  <div role="listitem" class="w-clearfix w-dyn-item">
                    <a href="/departments/traumatology" class="footer-link"
                      >Dental
                    </a>
                  </div>
                  <div role="listitem" class="w-clearfix w-dyn-item">
                    <a href="/departments/dental-care" class="footer-link"
                      >X-Ray</a
                    >
                  </div>
                  <div role="listitem" class="w-clearfix w-dyn-item">
                    <a href="/departments/cardiology" class="footer-link"
                      >Cardiology</a
                    >
                  </div>
                  <div role="listitem" class="w-clearfix w-dyn-item">
                    <a href="/departments/neurology" class="footer-link"
                      >Neurology</a
                    >
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="footer-column w-col w-col-3">
            <div class="footer-header-wrapper">
              <h4 class="footer-title">Message us</h4>
              <div class="footer-line"></div>
            </div>
            <div>
              <div class="w-form">
                <form
                  id="email-form-2"
                  name="email-form-2"
                  data-name="Email Form 2"
                  method="get"
                  data-wf-page-id="57c55b6ef6306d483a15bdc1"
                  data-wf-element-id="7c121d8a-d022-a32b-02d7-eb05da342546"
                >
                  <input
                    class="text-field name full-width w-input"
                    maxlength="256"
                    name="name"
                    data-name="Name"
                    placeholder="Enter your name"
                    type="text"
                    id="name"
                  /><input
                    class="text-field email full-width w-input"
                    maxlength="256"
                    name="email"
                    data-name="Email 3"
                    placeholder="Enter your email address"
                    type="email"
                    id="email-3"
                    required=""
                  /><input
                    type="submit"
                    data-wait="Please wait..."
                    class="button white full-width w-button"
                    value="Submit"
                  />
                </form>
                <div class="w-form-done">
                  <div>Thank you! Your submission has been received!</div>
                </div>
                <div class="w-form-fail">
                  <div>
                    Oops! Something went wrong while submitting the form
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="footer-credits">
          <div class="credits-wrapper">
            <div class="footer-socials">
              <a href="#" class="social-icon facebook w-inline-block"></a>
              <a href="#" class="social-icon twitter w-inline-block"></a>
              <a href="#" class="social-icon linkedin w-inline-block"></a>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- /FOOTER -->

    <!-- Scripts -->
    <script
      src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=57c55b6ef6306d483a15bdc0"
      integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
      crossorigin="anonymous"
    ></script>

    <script>
      // Demo dataset; replace with fetch('/api/prescriptions') in production.
      const RX = [
        {
          id: "RX-2025-0001",
          date: "2025-10-03",
          doctorId: "D-1009",
          patientId: "P-7781",
          notes: "Take with food. Monitor for rash.",
          items: [
            {
              drug: "Amoxicillin",
              strength: "500 mg",
              form: "Cap",
              route: "PO",
              dose: "1 cap",
              freq: "TID",
              duration: "7 d",
              qty: 21,
              refills: 0,
              note: "",
            },
            {
              drug: "Paracetamol",
              strength: "500 mg",
              form: "Tab",
              route: "PO",
              dose: "1 tab",
              freq: "Q8h PRN",
              duration: "5 d",
              qty: 15,
              refills: 0,
              note: "Max 3 g/day",
            },
          ],
        },

        {
          id: "RX-2025-0002",
          date: "2025-10-04",
          doctorId: "D-1002",
          patientId: "P-5532",
          notes: "",
          items: [
            {
              drug: "Lisinopril",
              strength: "10 mg",
              form: "Tab",
              route: "PO",
              dose: "1 tab",
              freq: "OD",
              duration: "30 d",
              qty: 30,
              refills: 3,
              note: "Check BP weekly",
            },
          ],
        },
        {
          id: "RX-2025-0003",
          date: "2025-10-05",
          doctorId: "D-1015",
          patientId: "P-9901",
          notes: "Patient reports penicillin allergy.",
          items: [
            {
              drug: "Azithromycin",
              strength: "500 mg",
              form: "Tab",
              route: "PO",
              dose: "1 tab",
              freq: "OD",
              duration: "3 d",
              qty: 3,
              refills: 0,
              note: "",
            },
          ],
        },
        {
          id: "RX-2025-0001",
          date: "2025-10-03",
          doctorId: "D-1009",
          patientId: "P-7781",
          notes: "Take with food. Monitor for rash.",
          items: [
            {
              drug: "Amoxicillin",
              strength: "500 mg",
              form: "Cap",
              route: "PO",
              dose: "1 cap",
              freq: "TID",
              duration: "7 d",
              qty: 21,
              refills: 0,
              note: "",
            },
            {
              drug: "Paracetamol",
              strength: "500 mg",
              form: "Tab",
              route: "PO",
              dose: "1 tab",
              freq: "Q8h PRN",
              duration: "5 d",
              qty: 15,
              refills: 0,
              note: "Max 3 g/day",
            },
          ],
        },
        {
          id: "RX-2025-0001",
          date: "2025-10-03",
          doctorId: "D-1009",
          patientId: "P-7781",
          notes: "Take with food. Monitor for rash.",
          items: [
            {
              drug: "Amoxicillin",
              strength: "500 mg",
              form: "Cap",
              route: "PO",
              dose: "1 cap",
              freq: "TID",
              duration: "7 d",
              qty: 21,
              refills: 0,
              note: "",
            },
            {
              drug: "Paracetamol",
              strength: "500 mg",
              form: "Tab",
              route: "PO",
              dose: "1 tab",
              freq: "Q8h PRN",
              duration: "5 d",
              qty: 15,
              refills: 0,
              note: "Max 3 g/day",
            },
          ],
        },
        {
          id: "RX-2025-0001",
          date: "2025-10-03",
          doctorId: "D-1009",
          patientId: "P-7781",
          notes: "Take with food. Monitor for rash.",
          items: [
            {
              drug: "Amoxicillin",
              strength: "500 mg",
              form: "Cap",
              route: "PO",
              dose: "1 cap",
              freq: "TID",
              duration: "7 d",
              qty: 21,
              refills: 0,
              note: "",
            },
            {
              drug: "Paracetamol",
              strength: "500 mg",
              form: "Tab",
              route: "PO",
              dose: "1 tab",
              freq: "Q8h PRN",
              duration: "5 d",
              qty: 15,
              refills: 0,
              note: "Max 3 g/day",
            },
          ],
        },
        {
          id: "RX-2025-0001",
          date: "2025-10-03",
          doctorId: "D-1009",
          patientId: "P-7781",
          notes: "Take with food. Monitor for rash.",
          items: [
            {
              drug: "Amoxicillin",
              strength: "500 mg",
              form: "Cap",
              route: "PO",
              dose: "1 cap",
              freq: "TID",
              duration: "7 d",
              qty: 21,
              refills: 0,
              note: "",
            },
            {
              drug: "Paracetamol",
              strength: "500 mg",
              form: "Tab",
              route: "PO",
              dose: "1 tab",
              freq: "Q8h PRN",
              duration: "5 d",
              qty: 15,
              refills: 0,
              note: "Max 3 g/day",
            },
          ],
        },
        {
          id: "RX-2025-0001",
          date: "2025-10-03",
          doctorId: "D-1009",
          patientId: "P-7781",
          notes: "Take with food. Monitor for rash.",
          items: [
            {
              drug: "Amoxicillin",
              strength: "500 mg",
              form: "Cap",
              route: "PO",
              dose: "1 cap",
              freq: "TID",
              duration: "7 d",
              qty: 21,
              refills: 0,
              note: "",
            },
            {
              drug: "Paracetamol",
              strength: "500 mg",
              form: "Tab",
              route: "PO",
              dose: "1 tab",
              freq: "Q8h PRN",
              duration: "5 d",
              qty: 15,
              refills: 0,
              note: "Max 3 g/day",
            },
          ],
        },
        {
          id: "RX-2025-0001",
          date: "2025-10-03",
          doctorId: "D-1009",
          patientId: "P-7781",
          notes: "Take with food. Monitor for rash.",
          items: [
            {
              drug: "Amoxicillin",
              strength: "500 mg",
              form: "Cap",
              route: "PO",
              dose: "1 cap",
              freq: "TID",
              duration: "7 d",
              qty: 21,
              refills: 0,
              note: "",
            },
            {
              drug: "Paracetamol",
              strength: "500 mg",
              form: "Tab",
              route: "PO",
              dose: "1 tab",
              freq: "Q8h PRN",
              duration: "5 d",
              qty: 15,
              refills: 0,
              note: "Max 3 g/day",
            },
          ],
        },
        {
          id: "RX-2025-0001",
          date: "2025-10-03",
          doctorId: "D-1009",
          patientId: "P-7781",
          notes: "Take with food. Monitor for rash.",
          items: [
            {
              drug: "Amoxicillin",
              strength: "500 mg",
              form: "Cap",
              route: "PO",
              dose: "1 cap",
              freq: "TID",
              duration: "7 d",
              qty: 21,
              refills: 0,
              note: "",
            },
            {
              drug: "Paracetamol",
              strength: "500 mg",
              form: "Tab",
              route: "PO",
              dose: "1 tab",
              freq: "Q8h PRN",
              duration: "5 d",
              qty: 15,
              refills: 0,
              note: "Max 3 g/day",
            },
          ],
        },
        {
          id: "RX-2025-0001",
          date: "2025-10-03",
          doctorId: "D-1009",
          patientId: "P-7781",
          notes: "Take with food. Monitor for rash.",
          items: [
            {
              drug: "Amoxicillin",
              strength: "500 mg",
              form: "Cap",
              route: "PO",
              dose: "1 cap",
              freq: "TID",
              duration: "7 d",
              qty: 21,
              refills: 0,
              note: "",
            },
            {
              drug: "Paracetamol",
              strength: "500 mg",
              form: "Tab",
              route: "PO",
              dose: "1 tab",
              freq: "Q8h PRN",
              duration: "5 d",
              qty: 15,
              refills: 0,
              note: "Max 3 g/day",
            },
          ],
        },
        {
          id: "RX-2025-0001",
          date: "2025-10-03",
          doctorId: "D-1009",
          patientId: "P-7781",
          notes: "Take with food. Monitor for rash.",
          items: [
            {
              drug: "Amoxicillin",
              strength: "500 mg",
              form: "Cap",
              route: "PO",
              dose: "1 cap",
              freq: "TID",
              duration: "7 d",
              qty: 21,
              refills: 0,
              note: "",
            },
            {
              drug: "Paracetamol",
              strength: "500 mg",
              form: "Tab",
              route: "PO",
              dose: "1 tab",
              freq: "Q8h PRN",
              duration: "5 d",
              qty: 15,
              refills: 0,
              note: "Max 3 g/day",
            },
          ],
        },
        {
          id: "RX-2025-0001",
          date: "2025-10-03",
          doctorId: "D-1009",
          patientId: "P-7781",
          notes: "Take with food. Monitor for rash.",
          items: [
            {
              drug: "Amoxicillin",
              strength: "500 mg",
              form: "Cap",
              route: "PO",
              dose: "1 cap",
              freq: "TID",
              duration: "7 d",
              qty: 21,
              refills: 0,
              note: "",
            },
            {
              drug: "Paracetamol",
              strength: "500 mg",
              form: "Tab",
              route: "PO",
              dose: "1 tab",
              freq: "Q8h PRN",
              duration: "5 d",
              qty: 15,
              refills: 0,
              note: "Max 3 g/day",
            },
          ],
        },
        {
          id: "RX-2025-0001",
          date: "2025-10-03",
          doctorId: "D-1009",
          patientId: "P-7781",
          notes: "Take with food. Monitor for rash.",
          items: [
            {
              drug: "Amoxicillin",
              strength: "500 mg",
              form: "Cap",
              route: "PO",
              dose: "1 cap",
              freq: "TID",
              duration: "7 d",
              qty: 21,
              refills: 0,
              note: "",
            },
            {
              drug: "Paracetamol",
              strength: "500 mg",
              form: "Tab",
              route: "PO",
              dose: "1 tab",
              freq: "Q8h PRN",
              duration: "5 d",
              qty: 15,
              refills: 0,
              note: "Max 3 g/day",
            },
          ],
        },
      ];

      const tbody = document.getElementById("rxTbody");
      const noRows = document.getElementById("noRows");
      const searchInput = document.getElementById("searchInput");
      const dateFrom = document.getElementById("dateFrom");
      const dateTo = document.getElementById("dateTo");
      // <td><button class="btn primary" data-rx="${rx.id}"><i class="fa-regular fa-eye"></i> View</button></td>
      // <td>${rx.date}</td>

      function renderRows(data) {
        tbody.innerHTML = "";
        data.forEach((rx) => {
          const tr = document.createElement("tr");
          tr.innerHTML = `
          <td class="idmono">${rx.id}</td>
          <td class="idmono">${rx.doctorId}</td>
        `;
          tbody.appendChild(tr);
        });
        noRows.style.display = data.length ? "none" : "block";
      }

      function withinDate(d, min, max) {
        const t = new Date(d).setHours(0, 0, 0, 0);
        if (min && t < new Date(min).setHours(0, 0, 0, 0)) return false;
        if (max && t > new Date(max).setHours(0, 0, 0, 0)) return false;
        return true;
      }

      function applyFilters() {
        const q = (searchInput.value || "").trim().toLowerCase();
        const f = dateFrom.value || null;
        const t = dateTo.value || null;
        const filtered = RX.filter(
          (r) =>
            withinDate(r.date, f, t) &&
            (!q ||
              r.id.toLowerCase().includes(q) ||
              r.doctorId.toLowerCase().includes(q))
        );
        renderRows(filtered);
      }

      // Modal handling
      const backdrop = document.getElementById("rxModalBackdrop");
      const closeBtn = document.getElementById("rxModalClose");
      const bodyEl = document.getElementById("rxModalBody");

      function openModal(rxId) {
        const rx = RX.find((x) => x.id === rxId);
        if (!rx) return;

        // Build HTML
        const itemsRows = rx.items
          .map(
            (it, idx) => `
        <tr>
          <td>${idx + 1}</td>
          <td>${it.drug}</td>
          <td>${it.strength}</td>
          <td>${it.form}</td>
          <td>${it.route}</td>
          <td>${it.dose}</td>
          <td>${it.freq}</td>
          <td>${it.duration}</td>
          <td>${it.qty}</td>
          <td>${it.refills}</td>
          <td>${it.note || ""}</td>
        </tr>
      `
          )
          .join("");

        bodyEl.innerHTML = `
        <div class="kv"><div><strong>Prescription ID</strong></div><div class="idmono">${
          rx.id
        }</div></div>
        <div class="kv"><div><strong>Date</strong></div><div>${
          rx.date
        }</div></div>
        <div class="kv"><div><strong>Doctor ID</strong></div><div class="idmono">${
          rx.doctorId
        }</div></div>
        <div class="kv"><div><strong>Patient ID</strong></div><div class="idmono">${
          rx.patientId
        }</div></div>
        <div class="kv"><div><strong>Notes</strong></div><div>${
          rx.notes || "-"
        }</div></div>

        <h4 style="margin-top:12px;">Medications</h4>
        <table class="rx-items">
          <thead>
            <tr>
              <th>#</th><th>Drug</th><th>Strength</th><th>Form</th><th>Route</th><th>Dose</th>
              <th>Frequency</th><th>Duration</th><th>Qty</th><th>Refills</th><th>Notes</th>
            </tr>
          </thead>
          <tbody>${itemsRows}</tbody>
        </table>
      `;

        backdrop.style.display = "flex";
        document.body.style.overflow = "hidden";
      }

      function closeModal() {
        backdrop.style.display = "none";
        document.body.style.overflow = "";
      }

      document.addEventListener("click", (e) => {
        const btn = e.target.closest("button[data-rx]");
        if (btn) {
          openModal(btn.getAttribute("data-rx"));
        }
      });

      backdrop.addEventListener("click", (e) => {
        if (e.target === backdrop) closeModal();
      });
      closeBtn.addEventListener("click", closeModal);
      document.addEventListener("keydown", (e) => {
        if (e.key === "Escape") closeModal();
      });

      // Filters
      [searchInput, dateFrom, dateTo].forEach((el) =>
        el.addEventListener("input", applyFilters)
      );

      // Initial render
      renderRows(RX);
    </script>
    <!-- JS -->
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const menuButton = document.querySelector(".menu-button");
        const navMenu = document.querySelector(".w-nav-menu");
        const icon = menuButton.querySelector("i");

        function resetNav() {
          // Remove any inline styles left from a previous visit
          navMenu.style.removeProperty("display");
          navMenu.style.removeProperty("opacity");
          navMenu.classList.remove("open");
          icon.classList.add("fa-bars");
          icon.classList.remove("fa-xmark");
        }

        // Reset on initial load
        resetNav();

        // Reset when page is restored from bfcache
        window.addEventListener("pageshow", function (e) {
          if (e.persisted) resetNav();
        });

        // Optional: also reset when switching from mobile to desktop widths
        window.addEventListener("resize", function () {
          if (window.innerWidth >= 992) resetNav(); // align with your breakpoint
        });

        menuButton.addEventListener("click", function () {
          const open = navMenu.classList.toggle("open");
          icon.classList.toggle("fa-bars", !open);
          icon.classList.toggle("fa-xmark", open);

          if (open) {
            // Prefer class-based visibility; avoid permanent inline styles
            navMenu.style.removeProperty("display");
            navMenu.style.removeProperty("opacity");
          } else {
            navMenu.style.removeProperty("display");
            navMenu.style.removeProperty("opacity");
          }
        });

        const links = navMenu.querySelectorAll("a");
        links.forEach((link) => {
          link.addEventListener("click", () => {
            resetNav();
          });
        });
      });
    </script>

    <script src="./scripts/index.js"></script>
  </body>
</html>
